<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Lightfield Camera</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: iPortfolio - v1.2.1
  * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Mobile nav toggle button ======= -->
  <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="d-flex flex-column">

      <div class="profile">
        <img src="assets/img/profile-img.jpg" alt="" class="img-fluid rounded-circle">
        <h1 class="text-light"><a href="index.html">Richard Chen</a></h1>
        <div class="social-links mt-3 text-center">
          <a href="https://www.youtube.com/channel/UCXCgxPLZV8QcKN8JP0pJmHQ" class="youtube"><i class="bx bxl-youtube"></i></a>
          <a href="https://www.facebook.com/richard.p.chen1/" class="facebook"><i class="bx bxl-facebook"></i></a>
          <a href="https://www.instagram.com/not_richardchen/" class="instagram"><i class="bx bxl-instagram"></i></a>
          <a href="https://www.linkedin.com/in/richardchen169/" class="linkedin"><i class="bx bxl-linkedin"></i></a>
        </div>
      </div>

      <nav class="nav-menu">
        <ul>
          <li class="active"><a href="index.html"><i class="bx bx-home"></i> <span>Home</span></a></li>
          <li><a href="index.html#about"><i class="bx bx-user"></i> <span>About</span></a></li>
          <li><a href="index.html#resume"><i class="bx bx-file-blank"></i> <span>Resume</span></a></li>
          <li><a href="index.html#portfolio"><i class="bx bx-book-content"></i>Projects</a></li>
          <li><a href="index.html#contact"><i class="bx bx-envelope"></i> Contact</a></li>

        </ul>
      </nav><!-- .nav-menu -->
      <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Simulating a Lightfield Camera</h2>
          <ol>
            <li><a href="index.html">Home</a></li>
            <li>Lightfield Camera</li>
          </ol>
        </div>

      </div>
    </section><!-- End Breadcrumbs -->

    <!-- ======= Portfolio Details Section ======= -->
<!--     <section id="portfolio-details" class="portfolio-details">
      <div class="container">

        <div class="portfolio-details-container">

          <div class="owl-carousel portfolio-details-carousel">
            <img src="assets/img/portfolio-details-1.jpg" class="img-fluid" alt="">
            <img src="assets/img/portfolio-details-2.jpg" class="img-fluid" alt="">
            <img src="assets/img/portfolio-details-3.jpg" class="img-fluid" alt="">
          </div>

          <div class="portfolio-info">
            <h3>Project information</h3>
            <ul>
              <li><strong>Category</strong>: Web design</li>
              <li><strong>Client</strong>: ASU Company</li>
              <li><strong>Project date</strong>: 01 March, 2020</li>
              <li><strong>Project URL</strong>: <a href="#">www.example.com</a></li>
            </ul>
          </div>

        </div>

        <div class="portfolio-description">
          <h2>This is an example of portfolio detail</h2>
          <p>
            Autem ipsum nam porro corporis rerum. Quis eos dolorem eos itaque inventore commodi labore quia quia. Exercitationem repudiandae officiis neque suscipit non officia eaque itaque enim. Voluptatem officia accusantium nesciunt est omnis tempora consectetur dignissimos. Sequi nulla at esse enim cum deserunt eius.
          </p>
        </div>

      </div>
    </section> --><!-- End Portfolio Details Section -->


    <!--Begin Portfolio Details Section -->

<style>
* {
  box-sizing: border-box;
}

.column {
  float: left;
  width: 33.3%;
  padding: 5px;
}

/* Clearfix (clear floats) */
.row::after {
  content: "";
  clear: both;
  display: table;
}
</style>
<div class="container">
  <header>

  <h2>Light-field Camera</h2>
  <h3>Richard Chen</h3>
  </header>

  <p>In this project, I investigated how we can use a dataset of images taken on an explicit grid to do depth refocusing and aperture adjustment in a post-processing step. Usually these steps are performed when the image is taken. However using the process that Ren et al. (2005)describes in their paper, we can first collect a series of images and then refocus and adjust aperture using some pretty simple concepts.</p>
  <h3>Depth Refocusing</h3>
  <p>The most difficult part of this was how to interpret the file names in the datasets provided. I used the image positioned at 8-8 on the grid as the reference one. Then for each image I found the sub-pixel shift in relation to the reference and shifted each image accordingly. These shift amounts are multiplied by a constant c which changes where the focus of the image is (towards the back or towards the front). Averaging all of these images gives you the results as shown below.</p>

  <h4>Chessboard</h4>
  <div class="row">
    <div class="column">
      <p>c = 0</p>
      <img src="assets/img/portfolio/lightfield/chess_0.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.25</p>
      <img src="assets/img/portfolio/lightfield/chess_25.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.5</p>
      <img src="assets/img/portfolio/lightfield/chess_05.png" style="width:100%">
    </div>
  </div>

  <h4>Bulldozer</h4>
  <div class="row">
    <div class="column">
      <p>c = 0</p>
      <img src="assets/img/portfolio/lightfield/bulldozer_0.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.25</p>
      <img src="assets/img/portfolio/lightfield/bulldozer_25.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.6</p>
      <img src="assets/img/portfolio/lightfield/bulldozer_06.png" style="width:100%">
    </div>
  </div>
  <h4>Flowers</h4>
  <div class="row">
    <div class="column">
      <p>c = 0</p>
      <img src="assets/img/portfolio/lightfield/flowers_0.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.25</p>
      <img src="assets/img/portfolio/lightfield/flowers_25.png" style="width:100%">
    </div>
    <div class="column">
      <p>c = 0.5</p>
      <img src="assets/img/portfolio/lightfield/flowers_05.png" style="width:100%">
    </div>
  </div>


  <p>We can see as the factor c increases, the focus moves from the back of the images to the front. Seems like it's working as expected. We can now selectively choose where we want to focus the image in the post-processing step! Here are some gifs of the refocusing for ease.</p>
  <blockquote class="imgur-embed-pub" lang="en" data-id="a/Bisqe1Q" data-context="false" ><a href="http://imgur.com/a/Bisqe1Q"></a></blockquote><script async src="http://s.imgur.com/min/embed.js" charset="utf-8"></script>
<blockquote class="imgur-embed-pub" lang="en" data-id="a/6d1K829"  ><a href="//imgur.com/a/6d1K829">Truck Refocus</a></blockquote><script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>

  <h3>Aperture Adjustment</h3>
  <p>We can take a similar approach for adjusting the aperture in the post-processing step. We take the 8-8 image again as the reference. Now we can pass in a constant that chooses the aperture radius r. Now instead of averaging all of the images together in the dataset, I only choose images that fall within the radius r from the reference 8-8 image. This is done by calculating the euclidean distance using the numpy.linalg.norm method. After the images are chosen, I shift the images by the sub-pixel differences again and average. Some results are shown below. </p>

  <h4>Chessboard</h4>
  <div class="row">
    <div class="column">
      <p>r = 1</p>
      <img src="assets/img/portfolio/lightfield/achess_1.png" style="width:100%">
    </div>
    <div class="column">
      <p>r = 3</p>
      <img src="assets/img/portfolio/lightfield/achess_3.png" style="width:100%">
    </div>
    <div class="column">
      <p>r = 6</p>
      <img src="assets/img/portfolio/lightfield/achess_6.png" style="width:100%">
    </div>
  </div>

  <h4>Truck</h4>
  <div class="row">
    <div class="column">
      <p>r = 1</p>
      <img src="assets/img/portfolio/lightfield/atruck_1.png" style="width:100%">
    </div>
    <div class="column">
      <p>r = 3</p>
      <img src="assets/img/portfolio/lightfield/atruck_3.png" style="width:100%">
    </div>
    <div class="column">
      <p>r = 5</p>
      <img src="assets/img/portfolio/lightfield/atruck_5.png" style="width:100%">
    </div>
  </div>

  <p>The results seem pretty good and make sense when thinking about how cameras usually work. When apertures are smaller, the range of focus will be larger and more things will be in focus. When the aperture is larger, things closer to the lens will be in focus while the background will be blurry, creating a "bokeh" effect. This is exactly what we see in the examples above. It's more obvious for the chessboard then the truck because there is more going on and more distinction between the foreground and background. Below are some gifs for ease.</p>
  <blockquote class="imgur-embed-pub" lang="en" data-id="a/9us08GW"  ><a href="//imgur.com/a/9us08GW">Chess Aperture</a></blockquote><script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>
  
<blockquote class="imgur-embed-pub" lang="en" data-id="a/KIRog3O"><a href="//imgur.com/a/KIRog3O">Flowers Aperture</a></blockquote><script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>

  <br>
  <p>Overall this project was pretty fun. It showed me we could do super cool things with post-processing using really simple methods!</p>

</div>
    <!-- End Portfolio Details Section -->
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>iPortfolio</span></strong>
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>